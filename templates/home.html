{% extends 'base.html' %}

{% block body %}

<!-- Trending Now -->
<section class="py-10 px-4">
  <div class="container mx-auto">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-lg font-bold">Trending Naked Reels</h2>
      <a href="#" class="text-primary hover:underline flex items-center text-sm">
        View All <i data-lucide="chevron-right" class="w-4 h-4 ml-1"></i>
      </a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
      {% for video in recent_videos %}
<a href="/video/{{video.slug}}">
      <div class="reel-card relative rounded-xl overflow-hidden group bg-dark-lighter">
        <div class="aspect-[9/16] bg-dark-light overflow-hidden">
          <img src="{{ video.thumbnail.url }}" alt="{{ video.title }}" class="w-full h-full object-cover transition-transform duration-300">
          <div class="absolute top-0 left-0 right-0 p-2 bg-gradient-to-b from-black/70 to-transparent">
            <div class="flex items-center">
              <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center">
                <i data-lucide="user" class="w-4 h-4 text-dark"></i>
              </div>
            
              <span class="ml-2 text-sm font-medium">@{{ video.profile.user.username }}</span>
            
            </div>
          </div>
        </div>
        <div class="p-2">
          <h3 class="text-sm font-medium line-clamp-2">{{ video.title }}</h3>
          <div class="flex items-center mt-1 text-xs text-gray-400">
            <i data-lucide="eye" class="w-3.5 h-3.5 mr-1"></i>
            <span>{{ video.views }} views</span>
          </div>
        </div>
      </div>
    </a>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Featured Creators -->
<section class="py-10 px-4">
  <div class="container mx-auto">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-lg font-bold">Featured Creators</h2>
      <a href="#" class="text-sm text-primary hover:underline flex items-center">
        View All <i data-lucide="chevron-right" class="w-4 h-4 ml-1"></i>
      </a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
      {% for profile in featured_profiles %}
      <a href="/profile/{{profile.user.username}}">
      <div class="bg-dark-lighter rounded-xl p-4 text-center hover:bg-dark-light transition-colors">
        <div class="w-20 h-20 mx-auto rounded-full overflow-hidden mb-3 bg-primary">
          {% if profile.avatar %}
            <img src="{{ profile.avatar.url }}" class="w-full h-full object-cover rounded-full">
          {% else %}
            <i data-lucide="user" class="w-10 h-10 text-dark mx-auto mt-5"></i>
          {% endif %}
        </div>
        <h3 class="font-semibold">@{{ profile.user.username }}</h3>
        <p class="text-sm text-gray-400">{{ profile.video_count }} reels</p>
        <button class="mt-3 w-full py-1.5 bg-primary text-dark rounded-full text-sm font-medium hover:bg-secondary transition-colors">
          Follow
        </button>
      </div>
    </a>
      {% endfor %}
    </div>
  </div>
</section>

<!-- For You -->
<section class="py-10 px-4">
  <div class="container mx-auto">
    <div class="flex items-center justify-between mb-6">
      <h2 class="text-lg font-bold">For You</h2>
      <a href="#" class="text-sm text-primary hover:underline flex items-center">
        Refresh <i data-lucide="refresh-cw" class="w-4 h-4 ml-1"></i>
      </a>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
      {% for video in for_you_videos %}
      <a href="/video/{{video.slug}}">
      <div class="reel-card relative rounded-xl overflow-hidden group bg-dark-lighter">
        <div class="aspect-[9/16] bg-dark-light overflow-hidden">
          <img src="{{ video.thumbnail.url }}" alt="{{ video.title }}" class="w-full h-full object-cover transition-transform duration-300">
          <div class="absolute top-0 left-0 right-0 p-2 bg-gradient-to-b from-black/70 to-transparent">
            <div class="flex items-center">
              <div class="w-8 h-8 rounded-full bg-primary flex items-center justify-center">
                <i data-lucide="user" class="w-4 h-4 text-dark"></i>
              </div>
              <span class="ml-2 text-sm font-medium">@{{ video.profile.user.username }}</span>
            </div>
          </div>
        </div>
        <div class="p-2">
          <h3 class="text-sm font-medium line-clamp-2">{{ video.title }}</h3>
          <div class="flex items-center mt-1 text-xs text-gray-400">
            <i data-lucide="eye" class="w-3.5 h-3.5 mr-1"></i>
            <span>{{ video.views }} views</span>
          </div>
        </div>
      </div>
     </a>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}
